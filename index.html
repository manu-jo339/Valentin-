<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <title>Veux-tu Ãªtre ma Valentine ? ğŸ’•</title>
    <style>
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }
        .heart {
            position: fixed;
            bottom: -10%;
            font-size: 1.5rem;
            user-select: none;
            pointer-events: none;
            z-index: 0;
            animation: float linear infinite;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-pink-200 via-red-100 to-pink-300 flex flex-col justify-center items-center text-white font-sans p-4 overflow-hidden">
    
    <div id="heartsContainer"></div>

    <div id="namePopup" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50">
        <div class="bg-white/95 rounded-3xl p-8 max-w-sm w-11/12 text-center shadow-2xl scale-100 transition-transform">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Coucou toi... ğŸ™ƒ</h2>
            <input type="text" id="userName" placeholder="Ton prÃ©nom..." 
                class="w-full px-4 py-3 text-lg text-gray-800 border-2 border-pink-200 rounded-2xl focus:border-pink-400 focus:outline-none text-center font-semibold mb-6 bg-white shadow-inner">
            <button onclick="startValentine()" class="w-full py-4 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-2xl font-bold text-lg hover:scale-105 active:scale-95 transition-all">
                C'est parti ! ğŸš€
            </button>
        </div>
    </div>
    
    <h1 id="dynamicTitle" class="text-3xl md:text-5xl lg:text-6xl text-rose-600 font-black mb-12 drop-shadow-lg hidden text-center px-4 z-10">
        <span id="nameDisplay"></span>, veux-tu Ãªtre ma Valentine ? ğŸ¥¹ğŸ‘‰ğŸ¾ğŸ‘ˆğŸ¾
    </h1>
    
    <div class="relative w-full h-64 flex justify-center items-center">
        <button id="oui" 
            class="fixed px-10 py-5 text-xl font-bold bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-full shadow-2xl hover:scale-110 transition-all duration-300 z-20 hidden">
            OUI ! ğŸ˜
        </button>
        
        <button id="non" 
            class="fixed px-8 py-4 text-lg font-bold bg-white text-gray-600 rounded-full shadow-lg transition-all duration-200 z-10 hidden border-2 border-gray-100">
            Non ğŸ™„
        </button>
    </div>
    
    <div id="success" class="fixed inset-0 bg-white/90 flex flex-col justify-center items-center z-30 hidden px-4">
        <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExc3Y2aWoxeHFnOGF5cGFlYW92cDJhY2IydGd4d3U2M2Z5Z2l2eDByeCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/u8u0R51ND9L2/giphy.gif" 
             alt="SuccÃ¨s !" class="w-64 h-64 rounded-full border-8 border-pink-400 mb-8 animate-bounce shadow-2xl">
        <h2 class="text-4xl md:text-6xl font-black text-rose-600 text-center animate-pulse">
            YOUPIIII ! â¤ï¸â€ğŸ”¥
        </h2>
        <p class="text-gray-500 mt-4 font-medium text-lg">Je savais que tu dirais oui !</p>
    </div>

    <script>
        const textsNon = ["Non ğŸ™„", "Vraiment ?", "Tu es sÃ»re ?", "RÃ©flÃ©chis encore...", "AÃ¯e mon coeur...", "Regarde Ã  gauche !", "C'est une erreur !", "Trop lent(e) ! ğŸƒâ€â™€ï¸"];
        let countNon = 0;

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'â¤ï¸';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
            heart.style.opacity = Math.random();
            document.getElementById('heartsContainer').appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }
        setInterval(createHeart, 300);

        function startValentine() {
            const name = document.getElementById('userName').value.trim();
            if (!name) return alert('Entre ton prÃ©nom ğŸ’•');
            
            document.getElementById('namePopup').classList.add('hidden');
            document.getElementById('nameDisplay').textContent = name;
            document.getElementById('dynamicTitle').classList.remove('hidden');
            
            const oui = document.getElementById('oui');
            const non = document.getElementById('non');
            oui.classList.remove('hidden');
            non.classList.remove('hidden');
            
            // Placement initial
            oui.style.top = '60%'; oui.style.left = '35%';
            non.style.top = '60%'; non.style.left = '55%';
        }

        const moveNon = () => {
            const non = document.getElementById('non');
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 100);
            non.style.left = x + 'px';
            non.style.top = y + 'px';
            
            // Change le texte du bouton Non
            countNon++;
            non.textContent = textsNon[countNon % textsNon.length];
            
            [span_4](start_span)// Fait grandir le bouton Oui[span_4](end_span)
            const oui = document.getElementById('oui');
            const currentScale = parseFloat(oui.style.transform.replace('scale(', '')) || 1;
            if (currentScale < 3) oui.style.transform = `scale(${currentScale + 0.15})`;
        };

        document.getElementById('non').addEventListener('mouseover', moveNon);
        document.getElementById('non').addEventListener('click', moveNon);

        document.getElementById('oui').addEventListener('click', () => {
            document.getElementById('success').classList.remove('hidden');
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#ff0000', '#ff69b4', '#ffffff']
            });
        });
    </script>
</body>
</html>
